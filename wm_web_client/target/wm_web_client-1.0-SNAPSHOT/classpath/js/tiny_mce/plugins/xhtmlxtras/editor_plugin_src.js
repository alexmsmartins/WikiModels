(function(){tinymce.create("tinymce.plugins.XHTMLXtrasPlugin",{init:function(B,C){B.addCommand("mceCite",function(){B.windowManager.open({file:C+"/cite.htm",width:350+parseInt(B.getLang("xhtmlxtras.cite_delta_width",0)),height:250+parseInt(B.getLang("xhtmlxtras.cite_delta_height",0)),inline:1},{plugin_url:C})
});
B.addCommand("mceAcronym",function(){B.windowManager.open({file:C+"/acronym.htm",width:350+parseInt(B.getLang("xhtmlxtras.acronym_delta_width",0)),height:250+parseInt(B.getLang("xhtmlxtras.acronym_delta_width",0)),inline:1},{plugin_url:C})
});
B.addCommand("mceAbbr",function(){B.windowManager.open({file:C+"/abbr.htm",width:350+parseInt(B.getLang("xhtmlxtras.abbr_delta_width",0)),height:250+parseInt(B.getLang("xhtmlxtras.abbr_delta_width",0)),inline:1},{plugin_url:C})
});
B.addCommand("mceDel",function(){B.windowManager.open({file:C+"/del.htm",width:340+parseInt(B.getLang("xhtmlxtras.del_delta_width",0)),height:310+parseInt(B.getLang("xhtmlxtras.del_delta_width",0)),inline:1},{plugin_url:C})
});
B.addCommand("mceIns",function(){B.windowManager.open({file:C+"/ins.htm",width:340+parseInt(B.getLang("xhtmlxtras.ins_delta_width",0)),height:310+parseInt(B.getLang("xhtmlxtras.ins_delta_width",0)),inline:1},{plugin_url:C})
});
B.addCommand("mceAttributes",function(){B.windowManager.open({file:C+"/attributes.htm",width:380,height:370,inline:1},{plugin_url:C})
});
B.addButton("cite",{title:"xhtmlxtras.cite_desc",cmd:"mceCite"});
B.addButton("acronym",{title:"xhtmlxtras.acronym_desc",cmd:"mceAcronym"});
B.addButton("abbr",{title:"xhtmlxtras.abbr_desc",cmd:"mceAbbr"});
B.addButton("del",{title:"xhtmlxtras.del_desc",cmd:"mceDel"});
B.addButton("ins",{title:"xhtmlxtras.ins_desc",cmd:"mceIns"});
B.addButton("attribs",{title:"xhtmlxtras.attribs_desc",cmd:"mceAttributes"});
if(tinymce.isIE){function A(D,E){if(E.set){E.content=E.content.replace(/<abbr([^>]+)>/gi,"<html:abbr $1>");
E.content=E.content.replace(/<\/abbr>/gi,"</html:abbr>")
}}B.onBeforeSetContent.add(A);
B.onPostProcess.add(A)
}B.onNodeChange.add(function(E,D,G,F){G=E.dom.getParent(G,"CITE,ACRONYM,ABBR,DEL,INS");
D.setDisabled("cite",F);
D.setDisabled("acronym",F);
D.setDisabled("abbr",F);
D.setDisabled("del",F);
D.setDisabled("ins",F);
D.setDisabled("attribs",G&&G.nodeName=="BODY");
D.setActive("cite",0);
D.setActive("acronym",0);
D.setActive("abbr",0);
D.setActive("del",0);
D.setActive("ins",0);
if(G){do{D.setDisabled(G.nodeName.toLowerCase(),0);
D.setActive(G.nodeName.toLowerCase(),1)
}while(G=G.parentNode)
}})
},getInfo:function(){return{longname:"XHTML Xtras Plugin",author:"Moxiecode Systems AB",authorurl:"http://tinymce.moxiecode.com",infourl:"http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/xhtmlxtras",version:tinymce.majorVersion+"."+tinymce.minorVersion}
}});
tinymce.PluginManager.add("xhtmlxtras",tinymce.plugins.XHTMLXtrasPlugin)
})();